{"ast":null,"code":"import axios from 'axios';\n// Import auth utilities for token management (used by other components)\n// eslint-disable-next-line no-unused-vars\nimport { getToken, removeToken } from './auth';\n\n// 创建axios实例\nconst api = axios.create({\n  baseURL: 'http://localhost:8080',\n  // 后端API基础路径\n  timeout: 10000\n});\n\n// 请求拦截器\napi.interceptors.request.use(config => {\n  // 从localStorage获取token\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  console.error('请求错误:', error);\n  return Promise.reject(error);\n});\n\n// 响应拦截器\napi.interceptors.response.use(response => {\n  return response;\n}, error => {\n  console.error('响应错误:', error);\n  return Promise.reject(error);\n});\n\n// 用户相关API\nexport const userApi = {\n  login: data => api.post('/user/login', data),\n  register: data => api.post('/user/register', data),\n  getUserById: userId => api.get(`/user/${userId}`),\n  updateUser: data => api.put('/user/', data)\n};\n\n// 商家相关API\nexport const businessApi = {\n  getBusinessList: params => api.get('/business/list', {\n    params\n  }),\n  getBusinessById: businessId => api.get(`/business/${businessId}`),\n  getBusinessByCategory: categoryId => api.get(`/business/category/${categoryId}`)\n};\n\n// 食品相关API\nexport const foodApi = {\n  getFoodsByBusinessId: businessId => api.get(`/food/business/${businessId}`),\n  getFoodById: foodId => api.get(`/food/${foodId}`)\n};\n\n// 订单相关API\nexport const orderApi = {\n  createOrder: data => api.post('/orders/create', data),\n  getOrdersByUserId: userId => api.get(`/orders/user/${userId}`),\n  getOrderById: orderId => api.get(`/orders/${orderId}`),\n  updateOrderState: (orderId, state) => api.put(`/orders/${orderId}/state/${state}`)\n};\n\n// 购物车相关API\nexport const cartApi = {\n  addToCart: data => api.post('/cart/add', data),\n  getCartByUserId: userId => api.get(`/cart/user/${userId}`),\n  updateCartItem: data => api.put('/cart', data),\n  deleteCartItem: cartItemId => api.delete(`/cart/${cartItemId}`)\n};\n\n// 配送地址相关API\nexport const deliveryAddressApi = {\n  getAddressesByUserId: userId => api.get(`/deliveryAddress/user/${userId}`),\n  addAddress: data => api.post('/deliveryAddress/add', data),\n  updateAddress: data => api.put('/deliveryAddress', data),\n  deleteAddress: addressId => api.delete(`/deliveryAddress/${addressId}`),\n  getAddressById: addressId => api.get(`/deliveryAddress/${addressId}`)\n};\n\n// 支付相关API\nexport const paymentApi = {\n  createPayment: data => api.post('/payment/create', data),\n  getPaymentByOrderId: orderId => api.get(`/payment/order/${orderId}`),\n  updatePaymentStatus: (paymentId, status) => api.put(`/payment/${paymentId}/status/${status}`)\n};\n\n// 评价相关API\nexport const ratingApi = {\n  submitRating: data => api.post('/rating/', data),\n  getRatingsByBusinessId: businessId => api.get(`/rating/business/${businessId}`),\n  getRatingsByUserId: userId => api.get(`/rating/user/${userId}`),\n  getRatingByOrderId: orderId => api.get(`/rating/order/${orderId}`),\n  updateRating: data => api.put('/rating/', data)\n};\nexport default api;","map":{"version":3,"names":["axios","getToken","removeToken","api","create","baseURL","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","error","console","Promise","reject","response","userApi","login","data","post","register","getUserById","userId","get","updateUser","put","businessApi","getBusinessList","params","getBusinessById","businessId","getBusinessByCategory","categoryId","foodApi","getFoodsByBusinessId","getFoodById","foodId","orderApi","createOrder","getOrdersByUserId","getOrderById","orderId","updateOrderState","state","cartApi","addToCart","getCartByUserId","updateCartItem","deleteCartItem","cartItemId","delete","deliveryAddressApi","getAddressesByUserId","addAddress","updateAddress","deleteAddress","addressId","getAddressById","paymentApi","createPayment","getPaymentByOrderId","updatePaymentStatus","paymentId","status","ratingApi","submitRating","getRatingsByBusinessId","getRatingsByUserId","getRatingByOrderId","updateRating"],"sources":["D:/back_elm/vue_elm/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n// Import auth utilities for token management (used by other components)\n// eslint-disable-next-line no-unused-vars\nimport { getToken, removeToken } from './auth';\n\n// 创建axios实例\nconst api = axios.create({\n  baseURL: 'http://localhost:8080', // 后端API基础路径\n  timeout: 10000\n});\n\n// 请求拦截器\napi.interceptors.request.use(\n  config => {\n    // 从localStorage获取token\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => {\n    console.error('请求错误:', error);\n    return Promise.reject(error);\n  }\n);\n\n// 响应拦截器\napi.interceptors.response.use(\n  response => {\n    return response;\n  },\n  error => {\n    console.error('响应错误:', error);\n    return Promise.reject(error);\n  }\n);\n\n// 用户相关API\nexport const userApi = {\n  login: (data) => api.post('/user/login', data),\n  register: (data) => api.post('/user/register', data),\n  getUserById: (userId) => api.get(`/user/${userId}`),\n  updateUser: (data) => api.put('/user/', data)\n};\n\n// 商家相关API\nexport const businessApi = {\n  getBusinessList: (params) => api.get('/business/list', { params }),\n  getBusinessById: (businessId) => api.get(`/business/${businessId}`),\n  getBusinessByCategory: (categoryId) => api.get(`/business/category/${categoryId}`)\n};\n\n// 食品相关API\nexport const foodApi = {\n  getFoodsByBusinessId: (businessId) => api.get(`/food/business/${businessId}`),\n  getFoodById: (foodId) => api.get(`/food/${foodId}`)\n};\n\n// 订单相关API\nexport const orderApi = {\n  createOrder: (data) => api.post('/orders/create', data),\n  getOrdersByUserId: (userId) => api.get(`/orders/user/${userId}`),\n  getOrderById: (orderId) => api.get(`/orders/${orderId}`),\n  updateOrderState: (orderId, state) => api.put(`/orders/${orderId}/state/${state}`)\n};\n\n// 购物车相关API\nexport const cartApi = {\n  addToCart: (data) => api.post('/cart/add', data),\n  getCartByUserId: (userId) => api.get(`/cart/user/${userId}`),\n  updateCartItem: (data) => api.put('/cart', data),\n  deleteCartItem: (cartItemId) => api.delete(`/cart/${cartItemId}`)\n};\n\n// 配送地址相关API\nexport const deliveryAddressApi = {\n  getAddressesByUserId: (userId) => api.get(`/deliveryAddress/user/${userId}`),\n  addAddress: (data) => api.post('/deliveryAddress/add', data),\n  updateAddress: (data) => api.put('/deliveryAddress', data),\n  deleteAddress: (addressId) => api.delete(`/deliveryAddress/${addressId}`),\n  getAddressById: (addressId) => api.get(`/deliveryAddress/${addressId}`)\n};\n\n// 支付相关API\nexport const paymentApi = {\n  createPayment: (data) => api.post('/payment/create', data),\n  getPaymentByOrderId: (orderId) => api.get(`/payment/order/${orderId}`),\n  updatePaymentStatus: (paymentId, status) => api.put(`/payment/${paymentId}/status/${status}`)\n};\n\n// 评价相关API\nexport const ratingApi = {\n  submitRating: (data) => api.post('/rating/', data),\n  getRatingsByBusinessId: (businessId) => api.get(`/rating/business/${businessId}`),\n  getRatingsByUserId: (userId) => api.get(`/rating/user/${userId}`),\n  getRatingByOrderId: (orderId) => api.get(`/rating/order/${orderId}`),\n  updateRating: (data) => api.put('/rating/', data)\n};\n\nexport default api; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
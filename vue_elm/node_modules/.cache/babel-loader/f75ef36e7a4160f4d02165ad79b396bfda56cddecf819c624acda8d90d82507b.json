{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { ElMessage } from 'element-plus';\nimport { userApi } from '@/utils/api';\nexport default {\n  __name: 'RegisterComponent',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const phoneNumber = ref('');\n    const password = ref('');\n    const confirmPassword = ref('');\n    const loading = ref(false);\n    const register = async () => {\n      try {\n        if (!phoneNumber.value) {\n          ElMessage.error('请输入手机号码');\n          return;\n        }\n        if (!password.value) {\n          ElMessage.error('请输入密码');\n          return;\n        }\n        if (password.value !== confirmPassword.value) {\n          ElMessage.error('两次输入的密码不一致');\n          return;\n        }\n        loading.value = true;\n        const response = await userApi.register({\n          userId: phoneNumber.value,\n          password: password.value\n          // 可以添加其他需要的字段\n        });\n        if (response && response.success) {\n          ElMessage.success('注册成功');\n          router.push('/login-component');\n        } else {\n          ElMessage.error('注册失败：' + (response?.message || '未知错误'));\n        }\n      } catch (error) {\n        console.error('注册失败:', error);\n        ElMessage.error('注册失败：' + (error.message || '服务器错误'));\n      } finally {\n        loading.value = false;\n      }\n    };\n    const goToLogin = () => {\n      router.push('/login-component');\n    };\n    const __returned__ = {\n      router,\n      phoneNumber,\n      password,\n      confirmPassword,\n      loading,\n      register,\n      goToLogin,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get userApi() {\n        return userApi;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","ElMessage","userApi","router","phoneNumber","password","confirmPassword","loading","register","value","error","response","userId","success","push","message","console","goToLogin"],"sources":["D:/back_elm/vue_elm/src/components/RegisterComponent.vue"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <div class=\"register-card\">\n      <div class=\"logo-container\">\n        <img :src=\"require('@/assets/elm_title.gif')\" class=\"logo-img\" alt=\"饿了么\" />\n      </div>\n      \n      <h2 class=\"welcome-text\">创建新账号</h2>\n      \n      <el-form @submit.prevent=\"register\" class=\"register-form\">\n        <el-form-item>\n          <el-input \n            v-model=\"phoneNumber\" \n            placeholder=\"请输入手机号码\" \n            prefix-icon=\"el-icon-mobile-phone\"\n            class=\"custom-input\">\n          </el-input>\n        </el-form-item>\n        \n        <el-form-item>\n          <el-input \n            type=\"password\" \n            v-model=\"password\" \n            placeholder=\"请输入密码\" \n            prefix-icon=\"el-icon-lock\"\n            class=\"custom-input\"\n            show-password>\n          </el-input>\n        </el-form-item>\n        \n        <el-form-item>\n          <el-input \n            type=\"password\" \n            v-model=\"confirmPassword\" \n            placeholder=\"请确认密码\" \n            prefix-icon=\"el-icon-lock\"\n            class=\"custom-input\"\n            show-password>\n          </el-input>\n        </el-form-item>\n        \n        <div class=\"button-container\">\n          <el-button \n            type=\"primary\" \n            @click=\"register\" \n            class=\"register-button\"\n            :loading=\"loading\">\n            立即注册\n          </el-button>\n        </div>\n        \n        <div class=\"login-link\">\n          已有账号？ \n          <span @click=\"goToLogin\" class=\"login-text\">返回登录</span>\n        </div>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { ElMessage } from 'element-plus';\nimport { userApi } from '@/utils/api';\n\nconst router = useRouter();\nconst phoneNumber = ref('');\nconst password = ref('');\nconst confirmPassword = ref('');\nconst loading = ref(false);\n\nconst register = async () => {\n  try {\n    if (!phoneNumber.value) {\n      ElMessage.error('请输入手机号码');\n      return;\n    }\n    \n    if (!password.value) {\n      ElMessage.error('请输入密码');\n      return;\n    }\n    \n    if (password.value !== confirmPassword.value) {\n      ElMessage.error('两次输入的密码不一致');\n      return;\n    }\n    \n    loading.value = true;\n    \n    const response = await userApi.register({\n      userId: phoneNumber.value,\n      password: password.value,\n      // 可以添加其他需要的字段\n    });\n    \n    if (response && response.success) {\n      ElMessage.success('注册成功');\n      router.push('/login-component');\n    } else {\n      ElMessage.error('注册失败：' + (response?.message || '未知错误'));\n    }\n  } catch (error) {\n    console.error('注册失败:', error);\n    ElMessage.error('注册失败：' + (error.message || '服务器错误'));\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst goToLogin = () => {\n  router.push('/login-component');\n};\n</script>\n\n<style scoped>\n.register-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n  padding: 20px;\n}\n\n.register-card {\n  width: 100%;\n  max-width: 400px;\n  background-color: #ffffff;\n  border-radius: 12px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);\n  padding: 30px;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.register-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);\n}\n\n.logo-container {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n}\n\n.logo-img {\n  height: 80px;\n  max-width: 100%;\n  object-fit: contain;\n}\n\n.welcome-text {\n  text-align: center;\n  color: #333;\n  font-size: 24px;\n  margin-bottom: 30px;\n  font-weight: 500;\n}\n\n.register-form {\n  width: 100%;\n}\n\n.custom-input :deep(.el-input__inner) {\n  height: 50px;\n  border-radius: 8px;\n  border: 1px solid #dcdfe6;\n  transition: all 0.3s;\n  padding-left: 15px;\n}\n\n.custom-input :deep(.el-input__inner:focus) {\n  border-color: #409EFF;\n  box-shadow: 0 0 0 2px rgba(64, 158, 255, 0.2);\n}\n\n.button-container {\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n\n.register-button {\n  width: 100%;\n  height: 50px;\n  border-radius: 8px;\n  font-size: 16px;\n  font-weight: 500;\n  background: linear-gradient(90deg, #0096ff 0%, #0081ff 100%);\n  border: none;\n  transition: all 0.3s;\n}\n\n.register-button:hover {\n  opacity: 0.9;\n  transform: translateY(-2px);\n  box-shadow: 0 5px 15px rgba(0, 129, 255, 0.3);\n}\n\n.login-link {\n  text-align: center;\n  margin-top: 20px;\n  color: #606266;\n  font-size: 14px;\n}\n\n.login-text {\n  color: #0081ff;\n  cursor: pointer;\n  font-weight: 500;\n  transition: color 0.3s;\n}\n\n.login-text:hover {\n  color: #409EFF;\n  text-decoration: underline;\n}\n\n@media (max-width: 480px) {\n  .register-card {\n    padding: 20px;\n  }\n  \n  .welcome-text {\n    font-size: 20px;\n    margin-bottom: 20px;\n  }\n  \n  .custom-input :deep(.el-input__inner) {\n    height: 45px;\n  }\n  \n  .register-button {\n    height: 45px;\n  }\n}\n</style>"],"mappings":";AA6DA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,OAAO,QAAQ,aAAa;;;;;;;IAErC,MAAMC,MAAM,GAAGH,SAAS,CAAC,CAAC;IAC1B,MAAMI,WAAW,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAMM,QAAQ,GAAGN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,eAAe,GAAGP,GAAG,CAAC,EAAE,CAAC;IAC/B,MAAMQ,OAAO,GAAGR,GAAG,CAAC,KAAK,CAAC;IAE1B,MAAMS,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACF,IAAI,CAACJ,WAAW,CAACK,KAAK,EAAE;UACtBR,SAAS,CAACS,KAAK,CAAC,SAAS,CAAC;UAC1B;QACF;QAEA,IAAI,CAACL,QAAQ,CAACI,KAAK,EAAE;UACnBR,SAAS,CAACS,KAAK,CAAC,OAAO,CAAC;UACxB;QACF;QAEA,IAAIL,QAAQ,CAACI,KAAK,KAAKH,eAAe,CAACG,KAAK,EAAE;UAC5CR,SAAS,CAACS,KAAK,CAAC,YAAY,CAAC;UAC7B;QACF;QAEAH,OAAO,CAACE,KAAK,GAAG,IAAI;QAEpB,MAAME,QAAQ,GAAG,MAAMT,OAAO,CAACM,QAAQ,CAAC;UACtCI,MAAM,EAAER,WAAW,CAACK,KAAK;UACzBJ,QAAQ,EAAEA,QAAQ,CAACI;UACnB;QACF,CAAC,CAAC;QAEF,IAAIE,QAAQ,IAAIA,QAAQ,CAACE,OAAO,EAAE;UAChCZ,SAAS,CAACY,OAAO,CAAC,MAAM,CAAC;UACzBV,MAAM,CAACW,IAAI,CAAC,kBAAkB,CAAC;QACjC,CAAC,MAAM;UACLb,SAAS,CAACS,KAAK,CAAC,OAAO,IAAIC,QAAQ,EAAEI,OAAO,IAAI,MAAM,CAAC,CAAC;QAC1D;MACF,CAAC,CAAC,OAAOL,KAAK,EAAE;QACdM,OAAO,CAACN,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;QAC7BT,SAAS,CAACS,KAAK,CAAC,OAAO,IAAIA,KAAK,CAACK,OAAO,IAAI,OAAO,CAAC,CAAC;MACvD,CAAC,SAAS;QACRR,OAAO,CAACE,KAAK,GAAG,KAAK;MACvB;IACF,CAAC;IAED,MAAMQ,SAAS,GAAGA,CAAA,KAAM;MACtBd,MAAM,CAACW,IAAI,CAAC,kBAAkB,CAAC;IACjC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import axios from 'axios';\n// Import auth utilities for token management (used by other components)\n// eslint-disable-next-line no-unused-vars\nimport { getToken, removeToken } from './auth';\n\n// 创建axios实例\nconst api = axios.create({\n  baseURL: 'http://localhost:8080',\n  // 后端API基础路径\n  timeout: 10000\n});\n\n// 请求拦截器\napi.interceptors.request.use(config => {\n  // 从localStorage获取token\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  console.error('请求错误:', error);\n  return Promise.reject(error);\n});\n\n// 响应拦截器\napi.interceptors.response.use(response => {\n  return response;\n}, error => {\n  console.error('响应错误:', error);\n  return Promise.reject(error);\n});\n\n// 用户相关API\nexport const userApi = {\n  login: data => api.post('/elm_servlet_war_exploded/api/user/login', data),\n  register: data => api.post('/elm_servlet_war_exploded/api/user/register', data),\n  getUserById: userId => api.get(`/elm_servlet_war_exploded/api/user/${userId}`),\n  updateUser: data => api.put('/elm_servlet_war_exploded/api/user', data)\n};\n\n// 商家相关API\nexport const businessApi = {\n  getBusinessList: params => api.get('/elm_servlet_war_exploded/api/business/list', {\n    params\n  }),\n  getBusinessById: businessId => api.get(`/elm_servlet_war_exploded/api/business/${businessId}`),\n  getBusinessByCategory: categoryId => api.get(`/elm_servlet_war_exploded/api/business/category/${categoryId}`)\n};\n\n// 食品相关API\nexport const foodApi = {\n  getFoodsByBusinessId: businessId => api.get(`/elm_servlet_war_exploded/api/food/business/${businessId}`),\n  getFoodById: foodId => api.get(`/elm_servlet_war_exploded/api/food/${foodId}`)\n};\n\n// 订单相关API\nexport const orderApi = {\n  createOrder: data => api.post('/elm_servlet_war_exploded/api/orders/create', data),\n  getOrdersByUserId: userId => api.get(`/elm_servlet_war_exploded/api/orders/user/${userId}`),\n  getOrderById: orderId => api.get(`/elm_servlet_war_exploded/api/orders/${orderId}`),\n  updateOrderState: (orderId, state) => api.put(`/elm_servlet_war_exploded/api/orders/${orderId}/state/${state}`)\n};\n\n// 购物车相关API\nexport const cartApi = {\n  addToCart: data => api.post('/elm_servlet_war_exploded/api/cart/add', data),\n  getCartByUserId: userId => api.get(`/elm_servlet_war_exploded/api/cart/user/${userId}`),\n  updateCartItem: data => api.put('/elm_servlet_war_exploded/api/cart', data),\n  deleteCartItem: cartItemId => api.delete(`/elm_servlet_war_exploded/api/cart/${cartItemId}`)\n};\n\n// 配送地址相关API\nexport const deliveryAddressApi = {\n  getAddressesByUserId: userId => api.get(`/elm_servlet_war_exploded/api/deliveryAddress/user/${userId}`),\n  addAddress: data => api.post('/elm_servlet_war_exploded/api/deliveryAddress/add', data),\n  updateAddress: data => api.put('/elm_servlet_war_exploded/api/deliveryAddress', data),\n  deleteAddress: addressId => api.delete(`/elm_servlet_war_exploded/api/deliveryAddress/${addressId}`),\n  getAddressById: addressId => api.get(`/elm_servlet_war_exploded/api/deliveryAddress/${addressId}`)\n};\n\n// 支付相关API\nexport const paymentApi = {\n  createPayment: data => api.post('/elm_servlet_war_exploded/api/payment/create', data),\n  getPaymentByOrderId: orderId => api.get(`/elm_servlet_war_exploded/api/payment/order/${orderId}`),\n  updatePaymentStatus: (paymentId, status) => api.put(`/elm_servlet_war_exploded/api/payment/${paymentId}/status/${status}`)\n};\n\n// 评价相关API\nexport const ratingApi = {\n  submitRating: data => api.post('/rating/', data),\n  getRatingsByBusinessId: businessId => api.get(`/rating/business/${businessId}`),\n  getRatingsByUserId: userId => api.get(`/rating/user/${userId}`),\n  getRatingByOrderId: orderId => api.get(`/rating/order/${orderId}`),\n  updateRating: data => api.put('/rating/', data)\n};\nexport default api;","map":{"version":3,"names":["axios","getToken","removeToken","api","create","baseURL","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","error","console","Promise","reject","response","userApi","login","data","post","register","getUserById","userId","get","updateUser","put","businessApi","getBusinessList","params","getBusinessById","businessId","getBusinessByCategory","categoryId","foodApi","getFoodsByBusinessId","getFoodById","foodId","orderApi","createOrder","getOrdersByUserId","getOrderById","orderId","updateOrderState","state","cartApi","addToCart","getCartByUserId","updateCartItem","deleteCartItem","cartItemId","delete","deliveryAddressApi","getAddressesByUserId","addAddress","updateAddress","deleteAddress","addressId","getAddressById","paymentApi","createPayment","getPaymentByOrderId","updatePaymentStatus","paymentId","status","ratingApi","submitRating","getRatingsByBusinessId","getRatingsByUserId","getRatingByOrderId","updateRating"],"sources":["D:/back_elm/vue_elm/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n// Import auth utilities for token management (used by other components)\n// eslint-disable-next-line no-unused-vars\nimport { getToken, removeToken } from './auth';\n\n// 创建axios实例\nconst api = axios.create({\n  baseURL: 'http://localhost:8080', // 后端API基础路径\n  timeout: 10000\n});\n\n// 请求拦截器\napi.interceptors.request.use(\n  config => {\n    // 从localStorage获取token\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => {\n    console.error('请求错误:', error);\n    return Promise.reject(error);\n  }\n);\n\n// 响应拦截器\napi.interceptors.response.use(\n  response => {\n    return response;\n  },\n  error => {\n    console.error('响应错误:', error);\n    return Promise.reject(error);\n  }\n);\n\n// 用户相关API\nexport const userApi = {\n  login: (data) => api.post('/elm_servlet_war_exploded/api/user/login', data),\n  register: (data) => api.post('/elm_servlet_war_exploded/api/user/register', data),\n  getUserById: (userId) => api.get(`/elm_servlet_war_exploded/api/user/${userId}`),\n  updateUser: (data) => api.put('/elm_servlet_war_exploded/api/user', data)\n};\n\n// 商家相关API\nexport const businessApi = {\n  getBusinessList: (params) => api.get('/elm_servlet_war_exploded/api/business/list', { params }),\n  getBusinessById: (businessId) => api.get(`/elm_servlet_war_exploded/api/business/${businessId}`),\n  getBusinessByCategory: (categoryId) => api.get(`/elm_servlet_war_exploded/api/business/category/${categoryId}`)\n};\n\n// 食品相关API\nexport const foodApi = {\n  getFoodsByBusinessId: (businessId) => api.get(`/elm_servlet_war_exploded/api/food/business/${businessId}`),\n  getFoodById: (foodId) => api.get(`/elm_servlet_war_exploded/api/food/${foodId}`)\n};\n\n// 订单相关API\nexport const orderApi = {\n  createOrder: (data) => api.post('/elm_servlet_war_exploded/api/orders/create', data),\n  getOrdersByUserId: (userId) => api.get(`/elm_servlet_war_exploded/api/orders/user/${userId}`),\n  getOrderById: (orderId) => api.get(`/elm_servlet_war_exploded/api/orders/${orderId}`),\n  updateOrderState: (orderId, state) => api.put(`/elm_servlet_war_exploded/api/orders/${orderId}/state/${state}`)\n};\n\n// 购物车相关API\nexport const cartApi = {\n  addToCart: (data) => api.post('/elm_servlet_war_exploded/api/cart/add', data),\n  getCartByUserId: (userId) => api.get(`/elm_servlet_war_exploded/api/cart/user/${userId}`),\n  updateCartItem: (data) => api.put('/elm_servlet_war_exploded/api/cart', data),\n  deleteCartItem: (cartItemId) => api.delete(`/elm_servlet_war_exploded/api/cart/${cartItemId}`)\n};\n\n// 配送地址相关API\nexport const deliveryAddressApi = {\n  getAddressesByUserId: (userId) => api.get(`/elm_servlet_war_exploded/api/deliveryAddress/user/${userId}`),\n  addAddress: (data) => api.post('/elm_servlet_war_exploded/api/deliveryAddress/add', data),\n  updateAddress: (data) => api.put('/elm_servlet_war_exploded/api/deliveryAddress', data),\n  deleteAddress: (addressId) => api.delete(`/elm_servlet_war_exploded/api/deliveryAddress/${addressId}`),\n  getAddressById: (addressId) => api.get(`/elm_servlet_war_exploded/api/deliveryAddress/${addressId}`)\n};\n\n// 支付相关API\nexport const paymentApi = {\n  createPayment: (data) => api.post('/elm_servlet_war_exploded/api/payment/create', data),\n  getPaymentByOrderId: (orderId) => api.get(`/elm_servlet_war_exploded/api/payment/order/${orderId}`),\n  updatePaymentStatus: (paymentId, status) => api.put(`/elm_servlet_war_exploded/api/payment/${paymentId}/status/${status}`)\n};\n\n// 评价相关API\nexport const ratingApi = {\n  submitRating: (data) => api.post('/rating/', data),\n  getRatingsByBusinessId: (businessId) => api.get(`/rating/business/${businessId}`),\n  getRatingsByUserId: (userId) => api.get(`/rating/user/${userId}`),\n  getRatingByOrderId: (orderId) => api.get(`/rating/order/${orderId}`),\n  updateRating: (data) => api.put('/rating/', data)\n};\n\nexport default api; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}